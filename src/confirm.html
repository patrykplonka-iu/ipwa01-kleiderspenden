<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bestätigung – Kleiderspende</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <main class="container py-4">
    <h1 class="h4 mb-3">Bestätigung</h1>
    <div id="summary" class="card p-3"></div>
    <a class="btn btn-outline-primary mt-3" href="register.html">Zurück zum Formular</a>
  </main>

  <script>
    (function(){
      const el = document.getElementById("summary");
      const raw = sessionStorage.getItem("donationForm");
      if (!raw) {
        el.textContent = "Keine Daten gefunden. Bitte Formular ausfüllen.";
        return;
      }
      const data = JSON.parse(raw);

      // Sicherheitsmaßnahme

      const parts = [];
      parts.push("Modus: " + (data.mode === "abholung" ? "Abholung" : "Übergabe an Geschäftsstelle"));
      parts.push("Art der Kleidung: " + data.clothes);
      parts.push("Krisengebiet: " + data.region);
      if (data.address) {
        parts.push("Adresse: " + data.address.street + " " + data.address.hnr + ", " + data.address.zip + " " + data.address.city);
      } else {
        parts.push("Adresse: — (Übergabe)");
      }
      parts.push("Hinweis (Office-PLZ, für Nähe-Check später): " + (data.officeZipPreview || "—"));
      parts.push("Zeitstempel: " + data.timestamp);

      el.textContent = parts.join("\n");
      el.style.whiteSpace = "pre-line"; // Zeilenumbrüche anzeigen
    })();
  </script>
</body>
</html>
